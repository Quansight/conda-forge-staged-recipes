{% set name = "kudu-cpp" %}
{% set version = "1.9.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/apache/kudu/archive/{{ version }}.tar.gz
  sha256: 0ff304009606a28101f10010fb0b02d5e8f7e7254892468ca8d1d3624ba44672

build:
  number: 0
  skip: True  # [win]
  # script: "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - autoconf
    - automake
    - bison
    - cmake
    - curl
    - gcovr
    - gmock
    - flex
    - git
    - make
    - openjdk 8.*
    - patch
    - pkg-config
    - protobuf
    - rsync
    - unzip
  host:
    - boost-cpp
    - gflags
    - glog
    - libev
    - libtool
    - libunwind
    - llvmdev
    - lz4
    - openssl >=1.0.0
    - python
    - rapidjson
    - sentry-sdk
    - snappy
    - sparsehash
    - krb5
    - ntplib
    - sasl
    - thrift-cpp
    - zlib
  run:
    - boost-cpp
    - gflags
    - glog
    - libev
    - libtool
    - libunwind
    - llvmdev
    - lz4
    - openssl >=1.0.0
    - python
    - rapidjson
    - sentry-sdk
    - snappy
    - sparsehash
    - krb5
    - ntplib
    - sasl
    - thrift-cpp
    - zlib

test:
  imports:
    - simplejson
    - simplejson.tests

about:
  home: https://kudu.apache.org
  license: Apache-2.0
  license_family: Apache
  license_file: LICENSE.txt
  summary: 'Apache Kudu completes Hadoop storage layer to enable fast analytics on fast data.'
  description: |
    Kudu provides a combination of fast inserts/updates and efficient columnar 
    scans to enable multiple real-time analytic workloads across a single storage 
    layer. As a new complement to HDFS and Apache HBase, Kudu gives architects 
    the flexibility to address a wider variety of use cases without exotic workarounds.
  doc_url: https://kudu.apache.org/docs/
  dev_url: https://github.com/apache/kudu

extra:
  recipe-maintainers:
    - xmnlab
